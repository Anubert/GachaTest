<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chaos Gacha</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body style="background-image: url('assets/relax.gif'); background-size: cover; background-position: center;">
  <!-- Settings Toggle -->
  <div id="settings-toggle" onclick="toggleSettings()">
    ⚙️
  </div>

  <!-- Settings Panel -->
  <div id="settings-panel" class="hidden">
    <h3>Settings</h3>
    <label>
      <input type="checkbox" id="soundToggle" checked onchange="toggleSound()" />
      Enable Sound
    </label>
    <label>
      <input type="checkbox" id="animToggle" checked onchange="toggleAnimation()" />
      Enable Animations
    </label>
    <a href="about.html" class="about-link">About</a>
  </div>

  <!-- Audio Files -->
  <audio id="clickSound" src="assets/audio/click.mp3"></audio>
  <audio id="clickRareSound" src="assets/audio/click_rare.mp3"></audio>
  <audio id="clickDiamondSound" src="assets/audio/click_diamond.mp3"></audio>
  <audio id="hoverRareSound" src="assets/audio/hover_rare.mp3"></audio>
  <audio id="trashSound" src="assets/audio/trash.mp3"></audio>
  <audio id="winSound" src="assets/audio/win.mp3"></audio>
  <audio id="winRareSound" src="assets/audio/win_rare.mp3"></audio>

  <div class="container">
    <!-- ... rest of your existing markup ... -->
  </div>

  <script src="main.js"></script>
  <script>
    // Settings script
    function toggleSettings() {
      document.getElementById('settings-panel')
              .classList.toggle('hidden');
    }

    let soundEnabled = true;
    function toggleSound() {
      soundEnabled = !soundEnabled;
    }

    let animEnabled = true;
    function toggleAnimation() {
      animEnabled = !animEnabled;
    }

    // Wrap existing sound/animation calls:
    const origPlayClick = playClickSound;
    playClickSound = btn => { if (soundEnabled) origPlayClick(btn); };

    const origPlayHover = playHoverSound;
    playHoverSound = btn => { if (soundEnabled) origPlayHover(btn); };

    const origDraw = draw;
    draw = cat => {
      if (animEnabled) {
        document.getElementById('result').classList.add('pulse');
        setTimeout(() => {
          document.getElementById('result').classList.remove('pulse');
          origDraw(cat);
        }, 300);
      } else {
        origDraw(cat);
      }
    };
  </script>
</body>
</html>
